<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>文件读取</title>
</head>
<body>
	<input type="file" class="file">
	<img src="" alt="" id="img">
	<script>
		var file = document.querySelector('.file');

		file.onchange = function () {
			// 通过this.files 可以获取File对象
			// 通过this.files[0] 可以获第一上传的文件，因为h5支持多文件上传
			console.log(this.files);

			// 实例化一个文件读取器
			var reader = new FileReader;
			// 读取刚刚上传上文件
			reader.readAsDataURL(this.files[0]);

			// 读取完成时
			reader.onload = function () {
				// console.log(1);
				console.log(reader.result);
				// 将读取结果放到图片标签里
				document.querySelector('img').src = reader.result;
			}		
		}
	</script>
</body>
</html>